<div class="room-type-container">
  <div class="page-header">
    <div class="header-left">
      <h2>Room Types</h2>
      <button class="back-btn" (click)="backToHotels()">
        ‚Üê BACK TO ROOM TYPES
      </button>
      <button class="rooms-btn" (click)="goToRooms()">
        Rooms
      </button>
    </div>
    <div class="header-right">
      <div class="language-selector">
        <label>SELECT LANGUAGE</label>
        <select>
          <option>English</option>
        </select>
      </div>
    </div>
  </div>

  <div *ngIf="error" class="error-message">{{ error }}</div>

  <div class="content-section" *ngIf="hotel">
    <div class="edit-section">
      <h3>{{ editingRoomType ? 'Edit' : 'Add' }} Room Type {{ editingRoomType ? editingRoomType.name : '' }}</h3>
      <p class="mandatory-note">Fields marked with * are mandatory!</p>

      <form [formGroup]="roomTypeForm" (ngSubmit)="onSubmit()" class="room-type-form">
        <div class="form-row">
          <div class="form-group">
            <label for="name">ROOM TYPE NAME *</label>
            <input 
              type="text" 
              id="name" 
              formControlName="name" 
              class="form-control"
              [class.error]="getFieldError('name')"
              placeholder="Enter room type name">
            <div class="error-text" *ngIf="getFieldError('name')">{{ getFieldError('name') }}</div>
          </div>

          <div class="form-group">
            <label for="code">CODE *</label>
            <input 
              type="text" 
              id="code" 
              formControlName="code" 
              class="form-control"
              [class.error]="getFieldError('code')"
              placeholder="Enter room type code">
            <div class="error-text" *ngIf="getFieldError('code')">{{ getFieldError('code') }}</div>
          </div>

          <div class="form-group">
            <label for="max_occupancy">MAX OCCUPANCY</label>
            <input 
              type="number" 
              id="max_occupancy" 
              formControlName="max_occupancy" 
              class="form-control"
              [class.error]="getFieldError('max_occupancy')"
              placeholder="Enter Max Occupancy">
            <div class="error-text" *ngIf="getFieldError('max_occupancy')">{{ getFieldError('max_occupancy') }}</div>
          </div>
        </div>

        <div class="form-actions">
          <button type="submit" class="btn btn-primary" [disabled]="!roomTypeForm.valid || loading">
            {{ editingRoomType ? 'Update' : 'Add' }} Room Type
          </button>
          <button type="button" class="btn btn-secondary" (click)="cancelEdit()" *ngIf="editingRoomType">
            Cancel
          </button>
        </div>
      </form>
    </div>

    <div class="room-types-list" *ngIf="roomTypes.length > 0">
      <h3>Existing Room Types</h3>
      <div class="room-types-grid">
        <div class="room-type-card" *ngFor="let roomType of roomTypes">
          <div class="room-type-info">
            <h4>{{ roomType.name }}</h4>
            <p><strong>Code:</strong> {{ roomType.code }}</p>
            <p *ngIf="roomType.max_occupancy"><strong>Max Occupancy:</strong> {{ roomType.max_occupancy }}</p>
          </div>
          <div class="room-type-actions">
            <button class="btn btn-sm btn-secondary" (click)="editRoomType(roomType)">Edit</button>
            <button class="btn btn-sm btn-danger" (click)="deleteRoomType(roomType)">Delete</button>
          </div>
        </div>
      </div>
    </div>

    <div *ngIf="!loading && roomTypes.length === 0" class="no-room-types">
      <p>No room types found for this hotel. Add your first room type above.</p>
    </div>
  </div>

  <div *ngIf="loading" class="loading">Loading...</div>
</div>
